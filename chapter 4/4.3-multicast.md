# üåê 4.3 Multicast

## Summary

### Overview

Traditional **unicast IP** sends data from one host to one destination.  
**Multicast** extends this by enabling **one-to-many** or **many-to-many** communication, efficiently delivering the same data to multiple receivers without duplicating packets across links.  
This makes multicast vital for scalable applications such as **IPTV**, **live streaming**, **video conferencing**, and **online gaming**.

---

### 4.3.1 Multicast Basics

- Multicast communication is organized around **groups**, each identified by a **multicast address**.  
- Hosts can **join** or **leave** groups dynamically using:  
  - **IGMP** (IPv4)  
  - **MLD** (IPv6)  

Packets sent to a multicast address are delivered to *all members* of that group.  
Multicast improves efficiency by letting **routers replicate packets only where needed**, minimizing redundant traffic.

**Two models:**

- **Any Source Multicast (ASM):** Any sender can transmit to the group.  
- **Source-Specific Multicast (SSM):** Receivers subscribe to both a *specific source* and a group.

---

### 4.3.2 Multicast Addresses

- IPv4 uses **Class D** addresses (`224.0.0.0‚Äì239.255.255.255`).  
- IPv6 reserves **`FF00::/8`** for multicast.  
- Some ranges are **local-scope**, reusable in separate domains.  
- Mapping IP multicast to **Ethernet multicast** can cause overlap: 32 IP groups may map to one Ethernet address.  
- Modern technologies like **switched Ethernet** and **PON (Passive Optical Networks)** reduce unwanted traffic through filtering.

---

### 4.3.3 Multicast Routing Protocols

Routers must build **multicast distribution trees** to deliver packets efficiently.  
Different protocols construct and maintain these trees in various ways:

#### DVMRP (Distance Vector Multicast Routing Protocol)

- Early multicast protocol using a **flood-and-prune** approach.  
- Initially floods all routers, then prunes branches without receivers.  
- Uses **Reverse Path Forwarding (RPF)** to ensure correct data flow direction.  
- Worked well in small networks but did not scale due to excessive overhead.

#### PIM (Protocol Independent Multicast)

Designed for scalability and flexibility.

- **PIM-DM (Dense Mode):** Similar to DVMRP (flood-and-prune), suitable for dense environments.  
- **PIM-SM (Sparse Mode):** The standard today ‚Äî builds trees *only where needed* using **Join** messages.  
  - Introduces **Rendezvous Points (RPs)** for coordinating group setup.  
  - Supports:
    - **Shared trees** (*,G): for all senders.  
    - **Source-specific trees** (S,G): optimized per sender for efficiency.  
  - Balances scalability and performance.

#### MSDP (Multicast Source Discovery Protocol)

- Extends multicast **across domains** by connecting **Rendezvous Points** from different networks.  
- RPs exchange information about **active sources** using TCP.  
- Enables interdomain multicast without a global RP.

#### PIM-SSM (Source-Specific Multicast)

- Simplifies one-to-many communication.  
- Receivers subscribe to a specific *(S,G)* ‚Äú**channel**.‚Äù  
- Advantages:
  - Direct, efficient data delivery  
  - Lower risk of misuse (single allowed sender)  
  - No MSDP dependency across domains

#### BIDIR-PIM (Bidirectional PIM)

- Optimized for **many-to-many** communication (e.g., video conferencing).  
- Builds **bidirectional shared trees**, allowing traffic to flow both ways.  
- Requires only an **RP address** as a reference point ‚Äî not an actual central router.  
- Reduces router state and bottlenecks but can increase path length.

---

### Key Design Tradeoffs

Multicast routing balances:

- **Scalability:** shared vs. per-source trees  
- **Efficiency:** shortest paths vs. minimal state  
- **Application needs:** one-to-many vs. many-to-many  

Different protocols suit different scales and use cases ‚Äî there is no universal ‚Äúbest‚Äù multicast solution.

---

## üìò Glossary

| **Term** | **Definition** |
|-----------|----------------|
| **Multicast** | Network method for sending data to multiple receivers efficiently. |
| **Unicast** | Traditional one-to-one IP communication. |
| **Any Source Multicast (ASM)** | Model allowing any sender to transmit to a multicast group. |
| **Source-Specific Multicast (SSM)** | One-to-many model where receivers specify both source and group. |
| **Multicast Group** | Set of hosts identified by a multicast IP address. |
| **IGMP (Internet Group Management Protocol)** | IPv4 protocol for joining or leaving multicast groups. |
| **MLD (Multicast Listener Discovery)** | IPv6 equivalent of IGMP. |
| **Reverse Path Forwarding (RPF)** | Technique ensuring packets travel only away from their source. |
| **DVMRP** | Early multicast protocol using flood-and-prune; a precursor to PIM. |
| **PIM (Protocol Independent Multicast)** | Family of multicast routing protocols that operate independently of unicast routing. |
| **PIM-DM** | Dense Mode PIM; floods multicast traffic initially, then prunes unused paths. |
| **PIM-SM** | Sparse Mode PIM; builds trees only where needed, using RPs. |
| **Rendezvous Point (RP)** | Central router coordinating group setup in PIM-SM. |
| **Shared Tree (*,G)** | Multicast tree shared by all senders in a group. |
| **Source-Specific Tree (S,G)** | Tree built for a specific sender within a group. |
| **MSDP (Multicast Source Discovery Protocol)** | Connects RPs across domains for interdomain multicast. |
| **PIM-SSM** | Source-Specific Multicast mode for one-to-many delivery. |
| **Channel (S,G)** | Defined multicast path between one source and one group. |
| **BIDIR-PIM** | PIM variant using bidirectional shared trees for many-to-many multicasting. |
| **Flood-and-Prune** | Routing method flooding packets initially, then pruning unneeded paths. |
| **Multicast Distribution Tree** | Router network used to deliver multicast packets efficiently. |
| **Ethernet Multicast Mapping** | Translation of IP multicast addresses to Ethernet-level multicast addresses. |

---
